#!/bin/bash
# migrate translation file from astrid 2 to astrid 3

sed -i '/.*"NactiveTasks".*/{N;N;N;N;d;}' $1
sed -i '/.*"Nalarms".*/{N;N;N;N;d;}' $1
sed -i '/.*"Ntags".*/{N;N;N;N;d;}' $1
sed -i '/.*"NdaysPreopsition".*/{N;N;N;N;d;}' $1

sed -i 's/"taskList_deleted">\(.*\)</"TAd_deletedFormat">%s [\1]</' $1
sed -i 's/"taskList_hiddenSuffix">\(.*\)</"TAd_hiddenFormat">%s [\1]</' $1
sed -i 's/"tagList_shortcut_created">\(.*\)</"FLA_toast_onCreateShortcut">\1 %s</' $1
sed -i 's/"taskList_repeatPrefix">\(.*\)</"repeat_detail_duedate">\1 %s</' $1
sed -i 's/"notif_tagNotification"/"locale_notification"/;s/$TAG/$FILTER/' $1
sed -i 's/"prefs_backup_desc_failure">\(.*\)%s/"backup_status_failed">\1/' $1
sed -i 's/"taskEdit_titlePrefix">\(.*\)</"TEA_view_title">\1 %s</' $1
sed -i 's/"question_title">\(.*\)</"DLG_question_title">\1:</' $1
sed -i 's/"prefs_defaultRemind_desc">\(.*\)</"rmd_EPr_defaultRemind_desc">\1: %s</' $1
sed -i 's/"prefs_quietEnd_desc">\(.*\)</"rmd_EPr_quiet_hours_end_desc">\1: %s</' $1
sed -i 's/"prefs_quietStart_desc">\(.*\)</"rmd_EPr_quiet_hours_start_desc">\1: %s</' $1
sed -i 's/"prefs_backup_desc">\(.*\)/"backup_BPr_auto_disabled">\1<string name="backup_BPr_auto_enabled">\1/' $1
sed -i 's/"tagList_context_shortcut">\(.*\)/"FLA_context_shortcut">\1<string name="FLA_shortcut_dialog_title">\1/' $1
sed -i 's/"prefs_annoy_desc">\(.*\)/"rmd_EPr_persistent_desc_true">\1<string name="rmd_EPr_persistent_desc_false">\1/' $1
sed -i 's/"prefs_notification_desc">\(.*\)/"rmd_EPr_ringtone_desc_custom">\1<string name="rmd_EPr_ringtone_desc_default">\1/' $1
sed -i 's/"prefs_vibrate_desc">\(.*\)/"rmd_EPr_vibrate_desc_true">\1<string name="rmd_EPr_vibrate_desc_false">\1/' $1
sed -i 's/"rtm_login_label">\(.*\)/"rmilk_status_loggedout">\1<string name="rmilk_MLA_label">\1/' $1
sed -i 's/"sync_bgwifi_desc">\(.*\)/"rmilk_MPr_bgwifi_desc_enabled">\1<string name="rmilk_MPr_bgwifi_desc_disabled">\1/' $1
sed -i 's/"sync_now">\(.*\)/"rmilk_MPr_sync">\1<string name="rmilk_MPr_sync_log_in">\1/' $1
sed -i 's/"taskList_context_edit"/"TAd_contextEditTask"/' $1
sed -i 's/"addToCalendar_label"/"gcal_TEA_addToCalendar_label"/' $1
sed -i 's/"blank_button_title"/"WID_dateButtonUnset"/' $1
sed -i 's/"definiteDueDate_label"/"TEA_urgency_label"/' $1
sed -i 's/"delete_label"/"TEA_menu_delete"/' $1
sed -i 's/"delete_this_task_title"/"DLG_delete_this_task_question"/' $1
sed -i 's/"discard_label"/"TEA_menu_discard"/' $1
sed -i 's/"done_label"/"DLG_done"/' $1
sed -i 's/"error_opening"/"DLG_error_opening"/' $1
sed -i 's/"error_sdcard"/"DLG_error_sdcard"/' $1
sed -i 's/"error_sdcard_general"/"DLG_error_sdcard_general"/' $1
sed -i 's/"estimatedDuration_label"/"TEA_estimatedDuration_label"/' $1
sed -i 's/"elapsedDuration_label"/"TEA_elapsedDuration_label"/' $1
sed -i 's/"export_toast"/"export_toast"/' $1
sed -i 's/"flag_after"/"TEA_reminder_overdue"/' $1
sed -i 's/"flag_during"/"TEA_reminder_due"/' $1
sed -i 's/"flags_label"/"TEA_reminder_label"/' $1
sed -i 's/"hiddenUntil_label"/"TEA_hideUntil_label"/' $1
sed -i 's/"import_file_prompt"/"import_file_prompt"/' $1
sed -i 's/"import_progress_read"/"import_progress_read"/' $1
sed -i 's/"import_progress_title"/"import_progress_title"/' $1
sed -i 's/"import_summary_title"/"import_summary_title"/' $1
sed -i 's/"importance_label"/"TEA_importance_label"/' $1
sed -i 's/"information_title"/"DLG_information_title"/' $1
sed -i 's/"locale_edit_alerts_title"/"locale_edit_alerts_title"/' $1
sed -i 's/"locale_edit_intro"/"locale_edit_intro"/' $1
sed -i 's/"marketplace_description"/"marketplace_description"/' $1
sed -i 's/"marketplace_title"/"marketplace_title"/' $1
sed -i 's/"name_hint"/"TEA_title_hint"/' $1
sed -i 's/"name_label"/"TEA_title_label"/' $1
sed -i 's/"Ndays"/"DUt_days"/' $1
sed -i 's/"Nhours"/"DUt_hours"/' $1
sed -i 's/"NhoursShort"/"DUt_hoursShort"/' $1
sed -i 's/"Nminutes"/"DUt_minutes"/' $1
sed -i 's/"NminutesShort"/"DUt_minutesShort"/' $1
sed -i 's/"notes_hint"/"TEA_notes_hint"/' $1
sed -i 's/"notes_label"/"TEA_note_label"/' $1
sed -i 's/"notification_dialog"/"TEA_reminder_random"/' $1
sed -i 's/"notify_no"/"rmd_NoA_goAway"/' $1
sed -i 's/"notify_snooze"/"rmd_NoA_snooze"/' $1
sed -i 's/"Nseconds"/"DUt_seconds"/' $1
sed -i 's/"NsecondsShort"/"DUt_secondsShort"/' $1
sed -i 's/"prefs_annoy_title"/"rmd_EPr_persistent_title"/' $1
sed -i 's/"prefs_backup_desc_success"/"backup_status_success"/' $1
sed -i 's/"prefs_backup_title"/"backup_BPr_auto_title"/' $1
sed -i 's/"prefs_category_alerts"/"rmd_EPr_alerts_header"/' $1
sed -i 's/"prefs_category_appearance"/"EPr_appearance_header"/' $1
sed -i 's/"prefs_defaultCalendar_astrid_default"/"gcal_GCP_default"/' $1
sed -i 's/"prefs_defaultRemind_title"/"rmd_EPr_defaultRemind_title"/' $1
sed -i 's/"prefs_fontSize_desc"/"EPr_fontSize_desc"/' $1
sed -i 's/"prefs_fontSize_title"/"EPr_fontSize_title"/' $1
sed -i 's/"prefs_notification_title"/"rmd_EPr_ringtone_title"/' $1
sed -i 's/"prefs_quietEnd_title"/"rmd_EPr_quiet_hours_end_title"/' $1
sed -i 's/"prefs_quietStart_title"/"rmd_EPr_quiet_hours_start_title"/' $1
sed -i 's/"prefs_vibrate_title"/"rmd_EPr_vibrate_title"/' $1
sed -i 's/"quick_add_hint"/"TLA_quick_add_hint"/' $1
sed -i 's/"repeat_label"/"repeat_interval_prompt"/' $1
sed -i 's/"rtm_login_error"/"rmilk_MLA_error"/' $1
sed -i 's/"save_label"/"TEA_menu_save"/' $1
sed -i 's/"showCalendar_label"/"gcal_TEA_showCalendar_label"/' $1
sed -i 's/"sync_bgwifi_title"/"rmilk_MPr_bgwifi_title"/' $1
sed -i 's/"sync_date_never"/"rmilk_status_never"/' $1
sed -i 's/"sync_error"/"rmilk_ioerror"/' $1
sed -i 's/"sync_forget"/"rmilk_MPr_forget"/' $1
sed -i 's/"sync_forget_confirm"/"rmilk_forget_confirm"/' $1
sed -i 's/"sync_interval_desc"/"rmilk_MPr_interval_desc_disabled"/' $1
sed -i 's/"sync_interval_title"/"rmilk_MPr_interval_title"/' $1
sed -i 's/"sync_last_auto_sync"/"rmilk_status_failed"/' $1
sed -i 's/"sync_last_sync"/"rmilk_status_success"/' $1
sed -i 's/"sync_pref_group_actions"/"rmilk_MPr_group_actions"/' $1
sed -i 's/"sync_pref_group_options"/"rmilk_MPr_group_options"/' $1
sed -i 's/"sync_rtm_title"/"rmilk_MPr_header"/' $1
sed -i 's/"tag_hint"/"TEA_tag_hint"/' $1
sed -i 's/"tagList_menu_sortAlpha"/"tag_FEx_alpha"/' $1
sed -i 's/"tagList_menu_sortSize"/"tag_FEx_by_size"/' $1
sed -i 's/"tagList_untagged"/"tag_FEx_untagged"/' $1
sed -i 's/"tags_label"/"TEA_tags_label"/' $1
sed -i 's/"task_killer_help_ok"/"task_killer_help_ok"/' $1
sed -i 's/"taskEdit_label"/"TEA_view_titleNew"/' $1
sed -i 's/"taskEdit_onTaskSave_Due"/"TEA_onTaskSave_due"/' $1
sed -i 's/"taskEdit_onTaskSave_notDue"/"TEA_onTaskSave_notDue"/' $1
sed -i 's/"taskEdit_onTaskSave_Overdue"/"TEA_onTaskSave_overdue"/' $1
sed -i 's/"taskEdit_tab_basic"/"TEA_tab_basic"/' $1
sed -i 's/"taskList_completedPrefix"/"TAd_completed"/' $1
sed -i 's/"taskList_context_delete"/"TAd_contextDeleteTask"/' $1
sed -i 's/"taskList_context_startTimer"/"TAE_startTimer"/' $1
sed -i 's/"taskList_context_stopTimer"/"TAE_stopTimer"/' $1
sed -i 's/"taskList_filter_done"/"BFE_Completed"/' $1
sed -i 's/"taskList_filter_hidden"/"BFE_Hidden"/' $1
sed -i 's/"taskList_filter_title"/"FLA_title"/' $1
sed -i 's/"taskList_menu_export"/"backup_BAc_export"/' $1
sed -i 's/"taskList_menu_help"/"TLA_menu_help"/' $1
sed -i 's/"taskList_menu_import"/"backup_BAc_import"/' $1
sed -i 's/"taskList_menu_settings"/"TLA_menu_settings"/' $1
sed -i 's/"taskList_menu_tags"/"tag_FEx_header"/' $1
sed -i 's/"taskList_sort_alpha"/"BFE_Alphabetical"/' $1
sed -i 's/"taskList_sort_duedate"/"BFE_DueDate"/' $1
sed -i 's/"taskList_tagsPrefix"/"tag_TLA_detail"/' $1
sed -i 's/"taskList_titleTagPrefix"/"tag_FEx_name"/' $1
sed -i 's/"widget_loading"/"TWi_loading"/' $1
sed -i 's/.*"displayedFields_PrefScreen_Desc".*//' $1
sed -i 's/.*"prefs_backup_desc_failure_null".*//' $1
sed -i 's/.*"prefs_colorize_desc".*//' $1
sed -i 's/.*"prefs_deadlineTime_desc".*//' $1
sed -i 's/.*"prefs_defaultCalendar_desc".*//' $1
sed -i 's/.*"prefs_nagging_desc".*//' $1
sed -i 's/.*"prefs_notificon_desc".*//' $1
sed -i 's/.*"sync_upgrade_v99".*//' $1
sed -i 's/.*"prefs_notificon_title".*//' $1
sed -i 's/.*"prefs_defaultCalendar_title".*//' $1
sed -i 's/.*"add_alert".*//' $1
sed -i 's/.*"addtask_label".*//' $1
sed -i 's/.*"ago_string".*//' $1
sed -i 's/.*"alerts_label".*//' $1
sed -i 's/.*"blockingOn_label".*//' $1
sed -i 's/.*"delete_this_tag_title".*//' $1
sed -i 's/.*"delete_title".*//' $1
sed -i 's/.*"displayedFields_PrefScreen_Title".*//' $1
sed -i 's/.*"edit_label".*//' $1
sed -i 's/.*"flag_before".*//' $1
sed -i 's/.*"flag_nonstop".*//' $1
sed -i 's/.*"hour_minutes_dialog".*//' $1
sed -i 's/.*"import_progress_add".*//' $1
sed -i 's/.*"import_progress_open".*//' $1
sed -i 's/.*"import_progress_opened".*//' $1
sed -i 's/.*"import_progress_skip".*//' $1
sed -i 's/.*"import_summary_message".*//' $1
sed -i 's/.*"loading".*//' $1
sed -i 's/.*"missing_tag".*//' $1
sed -i 's/.*"notification_label".*//' $1
sed -i 's/.*"notification_prefix".*//' $1
sed -i 's/.*"notify_done".*//' $1
sed -i 's/.*"notify_snooze_title".*//' $1
sed -i 's/.*"notify_yes".*//' $1
sed -i 's/.*"preferredDueDate_label".*//' $1
sed -i 's/.*"prefs_category_other".*//' $1
sed -i 's/.*"prefs_colorize_title".*//' $1
sed -i 's/.*"prefs_deadlineTime_title".*//' $1
sed -i 's/.*"prefs_deadlineVisible_desc".*//' $1
sed -i 's/.*"prefs_deadlineVisible_title".*//' $1
sed -i 's/.*"prefs_importanceVisible_desc".*//' $1
sed -i 's/.*"prefs_importanceVisible_title".*//' $1
sed -i 's/.*"prefs_nagging_title".*//' $1
sed -i 's/.*"prefs_notesVisible_desc".*//' $1
sed -i 's/.*"prefs_notesVisible_title".*//' $1
sed -i 's/.*"prefs_reminderVisible_desc".*//' $1
sed -i 's/.*"prefs_reminderVisible_title".*//' $1
sed -i 's/.*"prefs_repeatVisible_desc".*//' $1
sed -i 's/.*"prefs_repeatVisible_title".*//' $1
sed -i 's/.*"prefs_tagsVisible_desc".*//' $1
sed -i 's/.*"prefs_tagsVisible_title".*//' $1


sed -i 's/.*"prefs_timeVisible_desc".*//' $1
sed -i 's/.*"prefs_timeVisible_title".*//' $1
sed -i 's/.*"prefs_titleVisible_desc".*//' $1
sed -i 's/.*"prefs_titleVisible_title".*//' $1
sed -i 's/.*"quick_tips".*//' $1
sed -i 's/.*"read_tasks_permission".*//' $1
sed -i 's/.*"repeat_help_dialog".*//' $1
sed -i 's/.*"repeat_help_dialog_title".*//' $1
sed -i 's/.*"repeat_help_hide".*//' $1
sed -i 's/.*"repeat_picker_title".*//' $1
sed -i 's/.*"repeat_value_unset".*//' $1
sed -i 's/.*"startTimer_label".*//' $1
sed -i 's/.*"stop_timer_title".*//' $1
sed -i 's/.*"stopTimer_label".*//' $1
sed -i 's/.*"sync_button_desc".*//' $1
sed -i 's/.*"sync_button_title".*//' $1
sed -i 's/.*"sync_no_synchronizers".*//' $1
sed -i 's/.*"sync_pref_group".*//' $1
sed -i 's/.*"sync_progress_localdel".*//' $1
sed -i 's/.*"sync_progress_localtx".*//' $1
sed -i 's/.*"sync_progress_remote".*//' $1
sed -i 's/.*"sync_progress_remotetx".*//' $1
sed -i 's/.*"sync_progress_repeating".*//' $1
sed -i 's/.*"sync_progress_rxlist".*//' $1
sed -i 's/.*"sync_progress_starting".*//' $1
sed -i 's/.*"sync_quiet_desc".*//' $1
sed -i 's/.*"sync_quiet_title".*//' $1
sed -i 's/.*"sync_result_created".*//' $1
sed -i 's/.*"sync_result_deleted".*//' $1
sed -i 's/.*"sync_result_local".*//' $1
sed -i 's/.*"sync_result_merged".*//' $1
sed -i 's/.*"sync_result_remote".*//' $1
sed -i 's/.*"sync_result_title".*//' $1
sed -i 's/.*"sync_result_updated".*//' $1
sed -i 's/.*"sync_rtm_desc".*//' $1
sed -i 's/.*"sync_uptodate".*//' $1
sed -i 's/.*"tagList_context_create".*//' $1
sed -i 's/.*"tagList_context_delete".*//' $1
sed -i 's/.*"tagList_context_edit".*//' $1
sed -i 's/.*"tagList_context_hideTag".*//' $1
sed -i 's/.*"tagList_context_showTag".*//' $1
sed -i 's/.*"tagList_shortcut_prefix".*//' $1
sed -i 's/.*"tagList_titlePrefix".*//' $1
sed -i 's/.*"taskEdit_menu_save".*//' $1
sed -i 's/.*"taskEdit_tab_alerts".*//' $1
sed -i 's/.*"taskEdit_tab_dates".*//' $1
sed -i 's/.*"taskEdit_titleGeneric".*//' $1
sed -i 's/.*"taskList_alarmPrefix".*//' $1
sed -i 's/.*"taskList_cleanup_dialog".*//' $1
sed -i 's/.*"taskList_context_postpone".*//' $1
sed -i 's/.*"taskList_createdPrefix".*//' $1
sed -i 's/.*"taskList_dueAbsoluteDate".*//' $1
sed -i 's/.*"taskList_dueRelativeTime".*//' $1
sed -i 's/.*"taskList_elapsedTimePrefix".*//' $1
sed -i 's/.*"taskList_estimatedTimePrefix".*//' $1
sed -i 's/.*"taskList_filter_tagged".*//' $1
sed -i 's/.*"taskList_goalPrefix".*//' $1
sed -i 's/.*"taskList_hiddenPrefix".*//' $1
sed -i 's/.*"taskList_menu_cleanup".*//' $1
sed -i 's/.*"taskList_menu_filters".*//' $1
sed -i 's/.*"taskList_menu_insert".*//' $1
sed -i 's/.*"taskList_menu_more".*//' $1
sed -i 's/.*"taskList_menu_survey".*//' $1
sed -i 's/.*"taskList_menu_sync".*//' $1
sed -i 's/.*"taskList_menu_syncshortcut".*//' $1
sed -i 's/.*"taskList_menu_tips".*//' $1
sed -i 's/.*"taskList_nonag_reminder".*//' $1
sed -i 's/.*"taskList_notesPrefix".*//' $1
sed -i 's/.*"taskList_overdueBy".*//' $1
sed -i 's/.*"taskList_periodicReminderPrefix".*//' $1
sed -i 's/.*"taskList_postpone_count".*//' $1
sed -i 's/.*"taskList_postpone_dialog".*//' $1
sed -i 's/.*"taskList_repeatsRemotely".*//' $1
sed -i 's/.*"taskList_sort_auto".*//' $1
sed -i 's/.*"taskList_sort_reverse".*//' $1
sed -i 's/.*"taskList_titlePrefix".*//' $1
sed -i 's/.*"taskList_titleUntagged".*//' $1
sed -i 's/.*"taskView_notifyTitle".*//' $1
sed -i 's/.*"updating".*//' $1
sed -i 's/.*"importance_1".*//' $1
sed -i 's/.*"importance_2".*//' $1
sed -i 's/.*"importance_3".*//' $1
sed -i 's/.*"importance_4".*//' $1
sed -i 's/.*"repeat_days"\(.*\)<\/string/<string-array name="repeat_interval"><item\1<\/item/' $1
sed -i 's/.*"repeat_weeks"\(.*\)<\/string/<item\1<\/item/' $1
sed -i 's/.*"repeat_months"\(.*\)<\/string/<item\1<\/item/' $1
sed -i 's/.*"repeat_hours"\(.*\)<\/string>/<item\1<\/item><\/string-array>/' $1
